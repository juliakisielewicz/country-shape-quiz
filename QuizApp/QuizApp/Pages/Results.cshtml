@page
@model QuizApp.Pages.ResultsModel
@{
        ViewData["Title"] = "Results";
}

<div class="text-center">

@{
    if(Model.Results.Count() == 0)
    {
            <p>Play the game to see your results!</p>
    }
    else
    {
        var imagePath = "";
        var altText = "Shape of the country";
        var cor = new Models.Country();
        var sel = new Models.Country();
            
        <table class="table">

        @foreach(var res in Model.Results)
        {
            @foreach (var cnt in Model.Country)
            {
                if(cnt.id == res.correct_answer)
                {
                    cor = cnt;
                }
                if(cnt.id == res.selected_answer)
                {
                    sel = cnt;
                }
            }

            imagePath = "~/css/images/" + @cor.image_name;

            <tr>
                <td><img src="@Url.Content(imagePath)" alt="@altText" /></td>
                <td>Correct answer: @cor.country_name</td>
                <td>Your answer: @sel.country_name</td>
            </tr> 
        }

        </table>
    }

}

</div>